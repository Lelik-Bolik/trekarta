<?xml version="1.0" encoding="UTF-8"?>
<rendertheme version="1" xmlns="http://opensciencemap.org/rendertheme">
    <!-- Roads -->
    <m e="way" k="highway">
        <outline-layer fade="14" id="service-road" stroke="color:service-road-outline" width="0.05" />
        <outline-layer id="road" stroke="color:road-outline" width="0.15" />
        <outline-layer id="primary" stroke="color:primary-road-outline" width="0.15" />
        <outline-layer id="motorway" stroke="color:motorway-road-outline" width="0.15" />

        <m cat="roads" select="first" zoom-max="7">
            <m v="motorway">
                <line fade="6" stroke="color:motorway-overview" use="fix" width="0.6" />
            </m>
            <m v="trunk">
                <line fade="6" stroke="color:trunk-overview" use="fix" width="0.5" />
            </m>
            <m v="primary">
                <line fade="7" stroke="color:primary-overview" use="fix" width="0.5" />
            </m>
        </m>
        <m zoom-min="8">
            <!-- match tunnel-tag (to ensure tunnel key is present) -->
            <m k="tunnel">
                <!-- match tunnel-tag that are not 'no' -->
                <m k="tunnel" v="-|no">
                    <!-- match area-tag that are 'no' or not present -->
                    <m closed="no">
                        <!-- highway tunnels -->
                        <m k="highway">
                            <m cat="pedestrian" v="footway">
                                <!--TODO Add stipple outline -->
                                <line use="footway" />
                            </m>
                            <m cat="pedestrian" v="path">
                                <!--TODO Add stipple outline -->
                                <line use="path" />
                            </m>
                            <m v="bridleway">
                                <!--TODO Add stipple outline -->
                                <line use="bridleway" />
                            </m>
                            <m cat="tracks" v="track">
                                <m zoom-max="13" zoom-min="13">
                                    <line use="highway:track:g2" width="-0.8" />
                                </m>
                                <m zoom-min="14">
                                    <!--TODO Add stipple outline -->
                                    <line use="highway:track:g2" />
                                </m>
                                <m cat="track-names">
                                    <text use="road-name" />
                                </m>
                            </m>
                            <m cat="roads" v="service">
                                <line use="service-tunnel" width="-0.4" />
                            </m>
                            <m cat="roads" v="tertiary_link">
                                <line use="tertiary-tunnel" width="-0.1" />
                                <text use="road-name" />
                            </m>
                            <m cat="roads" v="secondary_link">
                                <line use="secondary-tunnel" width="-0.1" />
                                <text use="road-name" />
                            </m>
                            <m cat="roads" v="primary_link">
                                <line use="primary-tunnel" width="-0.1" />
                                <text use="major-road-name" />
                            </m>
                            <m cat="roads" v="trunk_link|motorway_link">
                                <line use="trunk-tunnel" width="-0.2" />
                                <text use="major-road-name" />
                            </m>
                            <m cat="roads" v="construction">
                                <line stroke="color:transparent" use="road-construction" />
                                <text use="road-name" />
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="pedestrian" v="pedestrian">
                                <line use="pedestrian-tunnel" />
                                <text use="road-name" />
                            </m>
                            <m cat="roads" v="road">
                                <line use="pedestrian-tunnel" />
                                <text use="road-name" />
                            </m>
                            <m cat="roads" v="residential|living_street">
                                <line use="residential-tunnel" />
                                <text use="road-name" />
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="unclassified">
                                <m select="first">
                                    <m cat="roads-surface" k="surface" v="dirt">
                                        <line stipple-stroke="color:surface-dirt" use="unclassified-tunnel" />
                                    </m>
                                    <m cat="roads-surface" k="surface" v="unpaved">
                                        <line stipple-stroke="color:surface-unpaved" use="unclassified-tunnel" />
                                    </m>
                                    <m>
                                        <line use="unclassified-tunnel" />
                                    </m>
                                </m>
                                <text use="road-name" />
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="tertiary">
                                <line use="tertiary-tunnel" />
                                <text use="road-name" />
                                <m cat="roads-shield" zoom-max="16" zoom-min="14">
                                    <symbol merge-gap="150" merge-group="road-symbols"
                                        repeat-gap="150" src="gen:/shield/13/#f0f0f0/#7f462c"
                                        text-overlap="false" />
                                </m>
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="secondary">
                                <line use="secondary-tunnel" />
                                <text use="major-road-name" />
                                <m cat="roads-shield" zoom-max="16" zoom-min="13">
                                    <symbol merge-gap="150" merge-group="road-symbols"
                                        repeat-gap="150" src="gen:/shield/13/#fdfdf1/#7f462c"
                                        text-overlap="false" />
                                </m>
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="primary">
                                <line use="primary-tunnel" />
                                <text use="major-road-name" />
                                <m cat="roads-shield" zoom-max="16" zoom-min="12">
                                    <symbol merge-gap="150" merge-group="road-symbols"
                                        repeat-gap="150" src="gen:/shield/13/#fdf7e5/#7f462c"
                                        text-overlap="false" />
                                </m>
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="trunk">
                                <line use="trunk-tunnel" />
                                <text use="major-road-name" />
                                <m cat="roads-shield" zoom-max="16" zoom-min="11">
                                    <symbol merge-gap="150" merge-group="road-symbols"
                                        repeat-gap="150" src="gen:/shield/13/#fff0b7/#c35817"
                                        text-overlap="false" />
                                </m>
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                            <m cat="roads" v="motorway">
                                <line use="highway-tunnel" />
                                <text use="major-road-name" />
                                <m cat="roads-shield" zoom-max="16" zoom-min="10">
                                    <symbol merge-gap="150" merge-group="road-symbols"
                                        repeat-gap="150" src="gen:/shield/13/#fee4be/#c35817"
                                        text-overlap="false" />
                                </m>
                                <m k="toll" v="yes">
                                    <symbol merge-gap="100" merge-group="road-symbols"
                                        repeat-gap="120"
                                        src="assets:symbols/transport/toll_road.svg"
                                        text-overlap="false" />
                                </m>
                            </m>
                        </m>
                        <m k="oneway" v="1" zoom-min="16">
                            <m cat="roads" k="highway" v="-|cycleway|track|path|footway">
                                <lineSymbol use="oneway" />
                            </m>
                            <m cat="cycling" k="highway" v="cycleway" zoom-min="17">
                                <lineSymbol src="assets:symbols/oneway_bicycle.svg" />
                            </m>
                        </m>
                        <m k="oneway" v="-1" zoom-min="16">
                            <m cat="roads" k="highway" v="-|cycleway|track|path|footway">
                                <lineSymbol use="oneway-reverse" />
                            </m>
                            <m cat="cycling" k="highway" v="cycleway" zoom-min="17">
                                <lineSymbol src="assets:symbols/oneway_bicycle_reverse.svg" />
                            </m>
                        </m>
                    </m>
                </m>
            </m>

            <!-- when tunnel is present it must be 'no' -->
            <m k="tunnel" v="~|no">
                <m closed="yes" zoom-min="16">
                    <m cat="pedestrian" v="footway|pedestrian">
                        <area mesh="true" use="pedestrian" />
                    </m>
                    <!--
                    <m cat="roads" v="service|unclassified|residential|road|living_street">
                        <area fill="#ffffff" mesh="true" />
                        <line cap="butt" fix="true" stroke="#d0d0d0" width="1.0" />
                    </m>
                    <m v="path" zoom-min="14">
                        <area fill="#d0d0d0" />
                    </m>
                    -->
                </m>
                <!-- when bridge is present it must be 'no' -->
                <m k="bridge" v="~|no">
                    <m closed="no">
                        <m cat="pedestrian" v="via_ferrata">
                            <line use="steps" stipple-stroke="#000000" />
                        </m>
                        <m cat="pedestrian" v="steps">
                            <m zoom-min="16">
                                <line use="steps" />
                            </m>
                            <m zoom-max="15" zoom-min="14">
                                <m zoom-min="15">
                                    <line use="footway:back" />
                                </m>
                                <line use="footway" />
                            </m>
                        </m>
                        <m cat="pedestrian" v="footway">
                            <m zoom-min="15">
                                <line use="footway:back" />
                            </m>
                            <line use="footway" />
                        </m>
                        <m cat="pedestrian" v="path">
                            <m zoom-min="15">
                                <line use="footway:back" />
                            </m>
                            <line use="path" />
                        </m>
                        <m v="bridleway">
                            <m zoom-min="15">
                                <line cat="tracks" use="footway:back" width="0.3" />
                                <line cat="hiking" stroke="#ffffffff" use="footway:back"
                                    width="4.0" />
                            </m>
                            <line cat="tracks" use="bridleway" />
                            <line cat="hiking" use="bridleway" width="2.2" />
                        </m>
                        <m v="track">
                            <m cat="tracks" zoom-max="13" zoom-min="13">
                                <m select="first">
                                    <m k="ice_road" v="yes">
                                        <line stroke="#9bc8c8" use="highway:track:back" />
                                    </m>
                                    <m k="winter_road" v="yes">
                                        <line stroke="#bed8d8" use="highway:track:back" />
                                    </m>
                                </m>
                                <m k="tracktype" v="grade1">
                                    <line use="highway:track:g1" width="-0.8" />
                                </m>
                                <m k="tracktype" v="~|grade2|grade3|grade4|grade5">
                                    <line use="highway:track:g2" width="-0.8" />
                                </m>
                            </m>
                            <m zoom-min="14">
                                <m select="first">
                                    <m k="ford" v="yes">
                                        <line cat="tracks" fix="true" use="ford" width="4.0" />
                                        <line cat="hiking" fix="true" use="ford" width="6.0" />
                                    </m>
                                    <m k="ice_road" v="yes">
                                        <line cat="tracks" stroke="#9bc8c8" use="highway:track:back"
                                            width="0.8" />
                                        <line cat="hiking" stroke="#9bc8c8" use="highway:track:back"
                                            width="4.0" />
                                    </m>
                                    <m k="winter_road" v="yes">
                                        <line cat="tracks" stroke="#bed8d8" use="highway:track:back"
                                            width="0.8" />
                                        <line cat="hiking" stroke="#bed8d8" use="highway:track:back"
                                            width="4.0" />
                                    </m>
                                    <m>
                                        <line cat="tracks" use="highway:track:back" />
                                        <line cap="butt" cat="hiking" fix="true" stroke="#ffffff"
                                            width="5.2" />
                                    </m>
                                </m>
                                <m k="tracktype" v="grade1">
                                    <line cat="tracks" use="highway:track:g1" />
                                    <line cat="hiking" use="highway:track:g1" width="2.2" />
                                </m>
                                <m k="tracktype" v="~|grade2">
                                    <line cat="tracks" use="highway:track:g2" />
                                    <line cat="hiking" use="highway:track:g1" width="2.2" />
                                </m>
                                <m k="tracktype" v="grade3">
                                    <line cat="tracks" use="highway:track:g3" />
                                    <line cat="hiking" use="highway:track:g1" width="2.2" />
                                </m>
                                <m k="tracktype" v="grade4">
                                    <line cat="tracks" use="highway:track:g4" />
                                    <line cat="hiking" use="highway:track:g1" width="2.2" />
                                </m>
                                <m k="tracktype" v="grade5">
                                    <line cat="tracks" use="highway:track:g5" />
                                    <line cat="hiking" use="highway:track:g5" width="2.2" />
                                </m>
                            </m>
                            <m cat="track-names">
                                <text use="road-name" />
                            </m>
                        </m>
                        <m cat="roads" v="service">
                            <!-- matches every service but parking_isle -->
                            <m k="service" v="-|parking_aisle">
                                <m select="first">
                                    <m k="ice_road" v="yes">
                                        <line fade="14" outline="service-road" stroke="color:road-ice"
                                            use="highway-service" />
                                    </m>
                                    <m k="winter_road" v="yes">
                                        <line fade="14" outline="service-road" stroke="color:road-winter"
                                            use="highway-service" />
                                    </m>
                                    <m cat="roads-surface" k="surface" v="dirt">
                                        <line fade="14" outline="service-road" stroke="color:surface-dirt"
                                            use="highway-service" />
                                    </m>
                                    <m cat="roads-surface" k="surface" v="unpaved">
                                        <line fade="14" outline="service-road" stroke="color:surface-unpaved"
                                            use="highway-service" />
                                    </m>
                                    <m>
                                        <line fade="14" outline="service-road"
                                            use="highway-service" />
                                    </m>
                                    <m select="when-matched">
                                        <m k="ford" v="yes">
                                            <line use="ford" width="-0.2" />
                                        </m>
                                        <m k="4wd_only" v="yes">
                                            <line use="4wd_only" width="-0.2" />
                                        </m>
                                        <m k="access" v="private">
                                            <line fade="14" stipple="15" stipple-stroke="color:service-access-private"
                                                stroke="color:transparent" use="highway-service" />
                                        </m>
                                        <m k="access" v="no">
                                            <line fade="14" stipple="15" stipple-stroke="color:access-no"
                                                stroke="color:transparent" use="highway-service" />
                                        </m>
                                    </m>
                                </m>
                            </m>
                            <m k="service" v="parking_aisle" zoom-min="16">
                                <line outline="service-road" use="highway-service" width="-0.2" />
                                <m k="access" v="private">
                                    <line stipple="15" stipple-stroke="color:service-access-private" stroke="color:transparent"
                                        use="highway-service" width="-0.2" />
                                </m>
                                <m k="access" v="no">
                                    <line stipple="15" stipple-stroke="color:access-no" stroke="color:transparent"
                                        use="highway-service" width="-0.2" />
                                </m>
                            </m>
                        </m>
                        <m cat="roads" v="tertiary_link">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="road" stroke="color:road-ice" use="tertiary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="road" stroke="color:road-winter" use="tertiary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="road" stroke="color:surface-dirt" use="tertiary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="road" stroke="color:surface-unpaved" use="tertiary" />
                                </m>
                                <m>
                                    <line outline="road" use="tertiary" />
                                </m>
                            </m>
                            <text use="road-name" />
                        </m>
                        <m cat="roads" v="secondary_link">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="road" stroke="color:road-ice" use="secondary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="road" stroke="color:road-winter" use="secondary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="road" stroke="color:surface-dirt" use="secondary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="road" stroke="color:surface-unpaved" use="secondary" />
                                </m>
                                <m>
                                    <line outline="road" use="secondary" />
                                </m>
                            </m>
                            <text use="road-name" />
                        </m>
                        <m cat="roads" v="primary_link">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="primary" stroke="color:road-ice" use="primary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="primary" stroke="color:road-winter" use="primary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="primary" stroke="color:surface-dirt" use="primary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="primary" stroke="color:surface-unpaved" use="primary" />
                                </m>
                                <m>
                                    <line outline="primary" use="primary" />
                                </m>
                            </m>
                            <text use="major-road-name" />
                        </m>
                        <m cat="roads" v="trunk_link|motorway_link">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="motorway" stroke="color:road-ice" use="trunk_link" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="motorway" stroke="color:road-winter" use="trunk_link" />
                                </m>
                                <m>
                                    <line outline="motorway" use="trunk_link" />
                                </m>
                            </m>
                            <text use="major-road-name" />
                        </m>
                        <m cat="roads" v="construction">
                            <line outline="road" use="road-construction" />
                            <m k="ford" v="yes">
                                <line use="ford" width="-0.2" />
                            </m>
                            <text use="road-name" />
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="pedestrian" v="pedestrian">
                            <line outline="service-road" use="pedestrian" />
                            <text use="road-name" />
                        </m>
                        <m cat="roads" v="road">
                            <line outline="road" use="pedestrian" />
                            <text use="road-name" />
                        </m>
                        <m cat="roads" v="residential|living_street">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="road" stroke="color:road-ice" use="residential" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="road" stroke="color:road-winter" use="residential" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="road" stroke="color:surface-dirt" use="residential" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="road" stroke="color:surface-unpaved" use="residential" />
                                </m>
                                <m>
                                    <line outline="road" use="residential" />
                                </m>
                            </m>
                            <m k="ford" v="yes">
                                <line use="ford" width="-0.2" />
                            </m>
                            <m k="4wd_only" v="yes">
                                <line use="4wd_only" width="-0.2" />
                            </m>
                            <m k="access" v="private">
                                <line stipple="15" stipple-stroke="color:access-private" stroke="color:transparent"
                                    use="residential" />
                            </m>
                            <m k="access" v="no">
                                <line stipple="15" stipple-stroke="color:access-no" stroke="color:transparent"
                                    use="residential" />
                            </m>
                            <text use="road-name" />
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="unclassified">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="road" stroke="color:road-ice" use="unclassified" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="road" stroke="color:road-winter" use="unclassified" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="road" stroke="color:surface-dirt" use="unclassified" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="road" stroke="color:surface-unpaved" use="unclassified" />
                                </m>
                                <m>
                                    <line outline="road" use="unclassified" />
                                </m>
                            </m>
                            <m k="ford" v="yes">
                                <line use="ford" />
                            </m>
                            <m k="4wd_only" v="yes">
                                <line use="4wd_only" />
                            </m>
                            <m k="access" v="private">
                                <line stipple="15" stipple-stroke="color:access-private" stroke="color:transparent"
                                    use="unclassified" />
                            </m>
                            <m k="access" v="no">
                                <line stipple="15" stipple-stroke="color:access-no" stroke="color:transparent"
                                    use="unclassified" />
                            </m>
                            <text use="road-name" />
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="tertiary">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="road" stroke="color:road-ice" use="tertiary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="road" stroke="color:road-winter" use="tertiary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="road" stroke="color:surface-dirt" use="tertiary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="road" stroke="color:surface-unpaved" use="tertiary" />
                                </m>
                                <m>
                                    <line outline="road" use="tertiary" />
                                </m>
                            </m>
                            <m k="ford" v="yes">
                                <line use="ford" />
                            </m>
                            <m k="4wd_only" v="yes">
                                <line use="4wd_only" />
                            </m>
                            <text use="road-name" />
                            <m cat="roads-shield" zoom-max="16" zoom-min="14">
                                <symbol merge-gap="150" merge-group="road-symbols" repeat-gap="150"
                                    src="gen:/shield/13/#f0f0f0/#7f462c" text-overlap="false" />
                            </m>
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="secondary">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="primary" stroke="color:road-ice" use="secondary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="primary" stroke="color:road-winter" use="secondary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="primary" stroke="color:surface-dirt" use="secondary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="primary" stroke="color:surface-unpaved" use="secondary" />
                                </m>
                                <m>
                                    <line outline="primary" use="secondary" />
                                </m>
                            </m>
                            <m k="ford" v="yes">
                                <line use="ford" />
                            </m>
                            <m k="4wd_only" v="yes">
                                <line use="4wd_only" width="0.1" />
                            </m>
                            <text use="major-road-name" />
                            <m cat="roads-shield" zoom-max="16" zoom-min="13">
                                <symbol merge-gap="150" merge-group="road-symbols" repeat-gap="150"
                                    src="gen:/shield/13/#fdfdf1/#7f462c" text-overlap="false" />
                            </m>
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="primary">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="primary" stroke="color:road-ice" use="primary" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="primary" stroke="color:road-winter" use="primary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="primary" stroke="color:surface-dirt" use="primary" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="primary" stroke="color:surface-unpaved" use="primary" />
                                </m>
                                <m>
                                    <line outline="primary" use="primary" />
                                </m>
                            </m>
                            <m k="ford" v="yes">
                                <line use="ford" />
                            </m>
                            <m k="4wd_only" v="yes">
                                <line use="4wd_only" width="0.2" />
                            </m>
                            <text use="major-road-name" />
                            <m cat="roads-shield" zoom-max="16" zoom-min="12">
                                <symbol merge-gap="150" merge-group="road-symbols" repeat-gap="150"
                                    src="gen:/shield/13/#fdf7e5/#7f462c" text-overlap="false" />
                            </m>
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="trunk">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="motorway" stroke="color:road-ice" use="trunk" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="motorway" stroke="color:road-winter" use="trunk" />
                                </m>
                                <m cat="roads-surface" k="surface" v="dirt">
                                    <line outline="motorway" stroke="color:surface-dirt" use="trunk" />
                                </m>
                                <m cat="roads-surface" k="surface" v="unpaved">
                                    <line outline="motorway" stroke="color:surface-unpaved" use="trunk" />
                                </m>
                                <m>
                                    <line outline="motorway" use="trunk" />
                                </m>
                            </m>
                            <text use="major-road-name" />
                            <m cat="roads-shield" zoom-max="16" zoom-min="11">
                                <symbol merge-gap="150" merge-group="road-symbols" repeat-gap="150"
                                    src="gen:/shield/13/#fff0b7/#c35817" text-overlap="false" />
                            </m>
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="roads" v="motorway">
                            <m select="first">
                                <m k="ice_road" v="yes">
                                    <line outline="motorway" stroke="color:road-ice" use="highway" />
                                </m>
                                <m k="winter_road" v="yes">
                                    <line outline="motorway" stroke="color:road-winter" use="highway" />
                                </m>
                                <m>
                                    <line outline="motorway" use="highway" />
                                </m>
                            </m>
                            <text use="major-road-name" />
                            <m cat="roads-shield" zoom-max="16" zoom-min="10">
                                <symbol merge-gap="150" merge-group="road-symbols" repeat-gap="150"
                                    src="gen:/shield/13/#fee4be/#c35817" text-overlap="false" />
                            </m>
                            <m k="toll" v="yes">
                                <symbol merge-gap="100" merge-group="road-symbols" repeat-gap="120"
                                    src="assets:symbols/transport/toll_road.svg"
                                    text-overlap="false" />
                            </m>
                        </m>
                        <m cat="cycling" v="cycleway">
                            <line use="footway:back" width="0.2" />
                            <line use="cycleway" />
                        </m>
                        <m k="oneway" v="1" zoom-min="16">
                            <m cat="roads" k="highway" v="-|cycleway|track|path|footway">
                                <lineSymbol use="oneway" />
                            </m>
                            <m cat="cycling" k="highway" v="cycleway" zoom-min="17">
                                <lineSymbol src="assets:symbols/oneway_bicycle.svg" />
                            </m>
                        </m>
                        <m k="oneway" v="-1" zoom-min="16">
                            <m cat="roads" k="highway" v="-|cycleway|track|path|footway">
                                <lineSymbol use="oneway-reverse" />
                            </m>
                            <m cat="cycling" k="highway" v="cycleway" zoom-min="17">
                                <lineSymbol src="assets:symbols/oneway_bicycle_reverse.svg" />
                            </m>
                        </m>
                    </m> <!-- area: no -->
                </m> <!-- bridge: no -->
            </m> <!-- tunnel: no -->
        </m>
    </m>
    <!-- ford symbol -->
    <m cat="fords" k="ford" select="first" v="yes" zoom-min="15">
        <!-- a node -->
        <m e="node">
            <symbol src="assets:symbols/natural/ford.svg" symbol-percent="60" />
        </m>
        <!-- or not a road -->
        <m k="highway" v="~|footway|path|cycleway|bridleway">
            <symbol src="assets:symbols/natural/ford.svg" symbol-percent="60" merge-gap="150" repeat-gap="150"/>
        </m>
    </m>
</rendertheme>