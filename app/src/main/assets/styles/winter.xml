<?xml version="1.0" encoding="UTF-8"?>
<rendertheme xmlns:xi="http://www.w3.org/2001/XInclude" map-background="#fffcfa" version="1"
    xmlns="http://opensciencemap.org/rendertheme">

    <!-- TODO:
        piste:name
        gladed=yes (trees)
    -->

    <stylemenu defaultlang="en" defaultvalue="urban" id="menu">
        <layer enabled="true" id="base">
            <cat id="land" />
            <cat id="water" />
            <cat id="administrative" />
            <cat id="places" />
            <cat id="aerialways" />
            <cat id="skiing" />
        </layer>

        <layer enabled="true" id="roads" parent="base">
            <cat id="roads" />
            <cat id="underground-railways" />
            <cat id="railways" />
            <cat id="trams" />
            <cat id="buildings" />
        </layer>

        <layer enabled="true" id="urban" parent="roads">
            <cat id="forest" />
            <cat id="urban" />
            <cat id="pedestrian" />
            <cat id="insignificant-water" />
        </layer>

        <layer enabled="true" id="topo" parent="urban">
            <cat id="mountains" />
            <cat id="winter-topo" />
            <cat id="tracks" />
            <cat id="contours" />
        </layer>
    </stylemenu>

    <style-color id="transparent" color="#00ffffff" />
    <style-color id="text-outline" color="#ffffff" />
    <style-color id="text" color="#000000" />

    <style-color id="motorway-overview" color="#deb683" />
    <style-color id="trunk-overview" color="#c6c5a2" />
    <style-color id="primary-overview" color="#c6c5a2" />

    <style-color id="service-road-outline" color="#aa807040" />
    <style-color id="road-outline" color="#807040" />
    <style-color id="primary-road-outline" color="#7f7700" />
    <style-color id="motorway-road-outline" color="#805f2e" />

    <style-color id="highway-service" color="#eeeeee" />
    <style-color id="pedestrian" color="#e0e0e0" />

    <style-color id="service-tunnel" color="#e5e5e5" />

    <style-color id="road-text" color="#101010" />
    <style-color id="road-text-outline" color="#eeeeee" />

    <style-color id="railway-stroke" color="#777777" />
    <style-color id="railway-stipple" color="#ffffff" />
    <style-color id="railway-subway" color="#888888" />
    <style-color id="railway-funicular" color="#663322" />
    <style-color id="railway-tram" color="#aa9988" />
    <style-color id="railway-narrow" color="#999999" />
    <style-color id="railway-abandoned" color="#cccccc" />
    <style-color id="railway-bridge" color="#ffffff" />
    <style-color id="railway-bridge-outline" color="#aa202020" />

    <style-color id="dam-stroke" color="#333333" />
    <style-color id="dam-fill" color="#999999" />

    <style-color id="cliff" color="#888888" />
    <style-color id="natural-text" color="#2d2d2d" />

    <style-color id="pier-stroke" color="#d0d0d0" />
    <style-color id="pier-fill" color="#e4e4e4" />

    <style-line cap="butt" fix="true" id="fix" width="1.0" />
    <style-text caption="true" dy="20" fill="#555522" id="poi" k="name" size="16" stroke="#aaffffff"
        stroke-width="2.5" />

    <style-area fade="-1" fill="#fafafa" id="land" mesh="true" />
    <!--
    <style-area fade="-1" fill="#d0d0d0" id="water" mesh="true" />
    <style-line id="water" stroke="#d0d0d0" use="fix" />
    <style-line fix="false" id="river" stroke="#d0d0d0" use="water" />
    -->
    <style-text style="italic" fill="#486780" id="water" k="name" size="16" stroke="#cae1ff"
        stroke-width="2.0" />
    <style-line id="oneway-water" src="assets:symbols/oneway_river.svg" />
    <style-line id="water" stroke="#a4bbcc" use="fix" />
    <style-line fix="false" id="river" stroke="#a4bbcc" use="water" />
    <style-area fade="-1" fill="#a4bbcc" id="water" mesh="true" />

    <!-- Natural -->
    <style-line id="cliff" src="assets:symbols/natural/cliff.svg" />
    <style-area blend="11" blend-fill="#c6d7d7" fade="8" fill="#e4ecec" id="wood" />

    <!-- Landuse -->
    <style-area fade="6" fill="#efefef" id="residential" />

    <style-text caption="true" fill="#415d5d" id="sports_centre" k="name" priority="8" size="18"
        stroke="#e4ecec" stroke-width="2.0" />

    <!-- Place styles -->
    <style-text caption="true" fill="#893889" id="place_country" size="16" stroke="#ffffff"
        stroke-width="2.5" />
    <style-text caption="true" fill="#000000" id="place" size="16" stroke="#ffffff"
        stroke-width="2.0" />
    <style-text id="place_town" symbol="assets:symbols/dot_black.svg" use="place" />
    <style-text id="place_city" symbol="assets:symbols/dot_white.svg" use="place" />
    <style-text id="place_capital" symbol="assets:symbols/star.svg" use="place" />

    <!-- Roads -->
    <style-line cap="round" id="ford" stroke="#83a3ba" width="0.7" />
    <style-line cap="butt" id="4wd_only" stipple="15" stipple-stroke="#c3a889" stroke="#00ffffff"
        width="0.7" />

    <style-line id="trunk" stroke="#ecda97" width="1.3" />
    <style-line cap="butt" id="trunk_link" stroke="#ecda97" width="1.0" />
    <style-line id="highway" stroke="#dacfa9" width="1.2" />
    <style-line id="primary" stroke="#dacfa9" width="1.0" />
    <style-line id="secondary" use="primary" width="-0.1" />
    <style-line id="unclassified" stroke="#f0f0f0" width="0.8" />
    <style-line id="tertiary" use="unclassified" width="0.1" />
    <style-line id="road-construction" stipple="10" stipple-stroke="#e0e0e0" stroke="#f0f0f0"
        width="0.8" />
    <style-line id="residential" stroke="#f0f0f0" use="unclassified" width="-0.1" />
    <style-line id="highway-service" stroke="color:highway-service" width="0.4" />
    <style-line id="pedestrian" stroke="#e0e0e0" use="residential" width="-0.2" />
    <style-area fill="#d0d0d0" id="pedestrian" />
    <style-line cap="butt" fix="true" id="highway:track:back" stroke="#88ffffff" width="2.2" />
    <style-line cap="butt" fix="true" id="highway:track:g2" stipple="10" stipple-stroke="#8f8f8f"
        stroke="#00ffffff" width="1.8" />
    <style-line id="highway:track:g1" use="highway:track:g2" />
    <style-line id="highway:track:g3" use="highway:track:g2" />
    <style-line id="highway:track:g4" use="highway:track:g2" />
    <style-line id="highway:track:g5" use="highway:track:g2" />
    <style-line cap="butt" fix="true" id="footway:back" stroke="#88ffffff" width="1.4" />
    <style-line cap="butt" fix="true" id="footway" stipple="4" stipple-stroke="#999999"
        stroke="#00ffffff" width="1.5" />
    <style-line cap="butt" id="footway:bridge" stroke="#fefefe" use="footway" />

    <style-line id="path" stipple="4" use="footway" width="0.1" />
    <style-line id="bridleway" use="footway" width="0.2" />
    <style-line cap="butt" fix="true" id="steps" stipple="3" stipple-stroke="#999999"
        stroke="#aaffffff" width="3.5" />

    <style-line cap="butt" id="tunnel" stipple="20" stipple-stroke="#f0f0f0" stroke="#00ffffff"
        width="1.3" />
    <style-line id="highway-tunnel" stipple-stroke="#dacfa9" use="tunnel" width="0.5" />
    <style-line id="trunk-tunnel" stipple-stroke="#ecda97" use="tunnel" width="0.4" />
    <style-line id="primary-tunnel" stipple-stroke="#dacfa9" use="tunnel" width="0.2" />
    <style-line id="secondary-tunnel" use="primary-tunnel" width="-0.1" />
    <style-line id="tertiary-tunnel" use="tunnel" />
    <style-line id="unclassified-tunnel" use="tunnel" />
    <style-line id="residential-tunnel" use="tunnel" width="-0.1" />
    <style-line id="service-tunnel" stipple="10" stipple-stroke="color:service-tunnel" use="tunnel"
        width="-0.9" />
    <style-line id="pedestrian-tunnel" stipple-stroke="#e0e0e0" use="tunnel" width="-0.3" />

    <style-text style="bold" fill="#666666" id="major-road-name" k="name" priority="5" size="16"
        stroke="#eeeeee" stroke-width="2.0" />
    <style-text fill="#666666" id="road-name" k="name" priority="7" size="16" stroke="#eeeeee"
        stroke-width="2.0" />

    <style-line id="oneway" src="assets:symbols/oneway.svg" />
    <style-line id="oneway-reverse" src="assets:symbols/oneway_reverse.svg" />

    <!-- Barriers -->
    <style-line cap="butt" fix="true" id="fence" stroke="#888888" width="1.1" />
    <style-line cap="butt" fix="true" id="hedge" stroke="#c6d7d7" width="2.0" />

    <!-- Buildings -->
    <style-line id="building" stroke="#aaaaaa" use="fix" />
    <style-area fill="#dddddd" id="building" stroke="#aaaaaa" stroke-width="1.0" />
    <style-text caption="true" fill="#606060" id="house-number" k="addr:housenumber" priority="9"
        size="12" stroke="#ffffff" stroke-width="2.0" />
    <style-text style="bold" fill="#808080" id="house-name" k="name" size="10" use="house-number" />


    <!-- Pistes -->
    <style-text fill="#666666" id="piste-name" k="name" priority="2" size="14" stroke="#eeeeee"
        stroke-width="2.0" />
    <style-text style="bold" fill="#7f462c" id="piste-ref" k="ref" priority="5" size="12"
        stroke="#eeeeee" stroke-width="2.0" />


    <m cat="water" e="way" k="natural" v="sea">
        <area use="water" />
    </m>
    <m cat="land" closed="yes" e="way" k="natural" v="land">
        <area use="land" />
    </m>

    <!-- Land usages -->
    <m closed="yes" e="way" k="landuse|amenity|leisure">
        <m v="residential|commercial|retail|industrial|allotments">
            <area use="residential" />
        </m>
        <m v="parking" zoom-min="16">
            <area fill="#fefefe" />
        </m>
        <m v="sports_centre">
            <m k="building" v="~">
                <area use="residential" />
                <text use="sports_centre" />
            </m>
        </m>
    </m>

    <!-- Natural -->
    <m closed="yes" e="way" k="natural">
        <m cat="winter-topo" v="glacier">
            <area fill="#d9f0f0" />
        </m>
        <m cat="winter-topo" v="bare_rock">
            <area src="assets:patterns/rock_overlay.png" />
        </m>
        <m cat="forest" v="forest|wood">
            <area use="wood" />
        </m>
        <m cat="winter-topo" v="marsh">
            <area src="assets:patterns/wetland.svg" />
            <area src="assets:patterns/marsh.svg" /> <!-- zoomed 500% + 300% -->
        </m>
        <m cat="winter-topo" v="wetland">
            <area src="assets:patterns/wetland.svg" />
        </m>
    </m>

    <xi:include href="inc_water.xml" />

    <xi:include href="inc_ground_objects.xml" />

    <xi:include href="inc_buildings.xml" />

    <xi:include href="inc_highways.xml" />

    <xi:include href="inc_railways.xml" />

    <m cat="skiing" k="piste:type">
        <outline-layer fix="true" id="difficulty-novice" stroke="#99ff99" width="2.5" />
        <outline-layer fix="true" id="difficulty-easy" stroke="#aaaaff" width="2.5" />
        <outline-layer fix="true" id="difficulty-interm" stroke="#ffaaaa" width="2.5" />
        <outline-layer fix="true" id="difficulty-advanced" stroke="#888888" width="2.5" />
        <outline-layer fix="true" id="difficulty-expert" stroke="#f66f00" width="2.5" />

        <m k="piste:type" v="downhill">
            <m closed="yes">
                <m zoom-min="13">
                    <area use="land" />
                </m>
                <m k="piste:difficulty" select="first" v="novice">
                    <m zoom-max="12">
                        <area fill="#98fbac" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#6698fbac" />
                    </m>
                    <m>
                        <area fill="#4498fbac" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="easy">
                    <m zoom-max="12">
                        <area fill="#999afb" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66999afb" />
                    </m>
                    <m>
                        <area fill="#44999afb" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="intermediate">
                    <m zoom-max="12">
                        <area fill="#fb9a99" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66fb9a99" />
                    </m>
                    <m>
                        <area fill="#44fb9a99" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="advanced">
                    <m zoom-max="12">
                        <area fill="#888888" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66888888" />
                    </m>
                    <m>
                        <area fill="#44888888" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="expert">
                    <m zoom-max="12">
                        <area fill="#fdbf6f" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66fdbf6f" />
                    </m>
                    <m>
                        <area fill="#44fdbf6f" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="freeride">
                    <m zoom-max="12">
                        <area fill="#fdf381" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66fdf381" />
                    </m>
                    <m>
                        <area fill="#44fdf381" />
                    </m>
                </m>
                <m k="piste:difficulty" select="first" v="~|unknown">
                    <m zoom-max="12">
                        <area fill="#aaaaaa" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66aaaaaa" />
                    </m>
                    <m>
                        <area fill="#44aaaaaa" />
                    </m>
                </m>
                <m k="piste:grooming" v="mogul" zoom-min="15">
                    <area src="assets:symbols/winter/mogul.svg" />
                </m>
            </m>
            <m closed="no" zoom-min="14">
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <lineSymbol src="assets:symbols/oneway.svg" />
                <m select="first">
                    <m k="ref">
                        <text use="piste-ref" />
                    </m>
                    <m>
                        <text use="piste-name" />
                    </m>
                </m>
            </m>
        </m>
        <m k="piste:type" v="playground">
            <m closed="yes">
                <m zoom-min="13">
                    <area use="land" />
                </m>
                <m select="first">
                    <m zoom-max="12">
                        <area fill="#d5f0b1" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66d5f0b1" />
                    </m>
                    <m>
                        <area fill="#44d5f0b1" />
                    </m>
                </m>
                <m zoom-min="15">
                    <symbol merge-group="piste-symbols" merge-group-gap="50"
                        src="assets:symbols/winter/playground.svg" symbol-percent="80"
                        text-overlap="false" />
                </m>
            </m>
            <m closed="no" zoom-min="14">
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <lineSymbol src="assets:symbols/oneway.svg" />
                <m select="first">
                    <m k="ref">
                        <text use="piste-ref" />
                    </m>
                    <m>
                        <text fill="#74b322" use="piste-name" /> <!-- Darken 20% -->
                    </m>
                </m>
                <m zoom-min="15">
                    <symbol merge-gap="40" merge-group="piste-symbols" repeat-gap="40"
                        src="assets:symbols/winter/playground.svg" symbol-percent="80"
                        text-overlap="false" />
                </m>
            </m>
        </m>
        <m k="piste:type" v="snow_park">
            <m closed="yes">
                <m zoom-min="13">
                    <area use="land" />
                </m>
                <m select="first">
                    <m zoom-max="12">
                        <area fill="#85bbf6" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#6685bbf6" />
                    </m>
                    <m>
                        <area fill="#4485bbf6" />
                    </m>
                </m>
                <m zoom-min="15">
                    <symbol merge-group="piste-symbols" merge-group-gap="50"
                        src="assets:symbols/winter/snow_park.svg" text-overlap="false" />
                </m>
            </m>
            <m closed="no" zoom-min="14">
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <lineSymbol src="assets:symbols/oneway.svg" />
                <m select="first">
                    <m k="ref">
                        <text use="piste-ref" />
                    </m>
                    <m>
                        <text fill="#083c74" use="piste-name" /> <!-- Darken 20% -->
                    </m>
                </m>
                <m zoom-min="15">
                    <symbol merge-gap="40" merge-group="piste-symbols" repeat-gap="40"
                        src="assets:symbols/winter/snow_park.svg" symbol-percent="80"
                        text-overlap="false" />
                </m>
            </m>
        </m>

        <m k="piste:type" v="ski_jump">
            <m zoom-max="14">
                <line fix="true" stroke="#ffffff" width="2.8" />
                <line fix="true" stroke="#655abe" width="2" />
            </m>
            <m zoom-min="15">
                <line fix="true" stroke="#ffffff" width="4" />
                <line fix="true" stroke="#655abe" width="3" />
            </m>

            <m select="first" zoom-min="14">
                <m k="ref">
                    <text use="piste-ref" />
                </m>
                <m>
                    <text fill="#3b3280" use="piste-name" /> <!-- Darken 20% -->
                </m>
            </m>
            <m zoom-min="15">
                <symbol merge-gap="40" merge-group="piste-symbols" repeat-gap="40"
                    src="assets:symbols/winter/jump.svg" symbol-percent="70" text-overlap="false" />
            </m>
        </m>
        <m k="piste:type" v="ski_jump_landing">
            <m closed="yes">
                <m select="first">
                    <m zoom-max="12">
                        <area fill="#bcb7e1" />
                    </m>
                    <m zoom-max="16">
                        <area fill="#66bcb7e1" />
                    </m>
                    <m>
                        <area fill="#44bcb7e1" />
                    </m>
                </m>
                <m zoom-min="14">
                    <symbol merge-group="piste-symbols" merge-group-gap="20"
                        src="assets:symbols/winter/jump.svg" text-overlap="false" />
                </m>
            </m>
            <m closed="no">
                <m zoom-max="14">
                    <line fix="true" stroke="#ffffff" width="2.8" />
                    <line fix="true" stroke="#655abe" width="2" />
                </m>
                <m zoom-min="15">
                    <line fix="true" stroke="#ffffff" width="4" />
                    <line fix="true" stroke="#66655abe" width="3" />
                </m>
                <m select="first" zoom-min="14">
                    <m k="ref">
                        <text use="piste-ref" />
                    </m>
                    <m>
                        <text fill="#3b3280" use="piste-name" /> <!-- Darken 20% -->
                    </m>
                </m>
            </m>
        </m>

        <m k="piste:type" v="sled">
            <m zoom-max="14">
                <line fix="true" stroke="#ffffff" width="2.8" />
                <line fix="true" stroke="#a1e620" width="2" />
            </m>
            <m zoom-min="15">
                <m select="first">
                    <m k="piste:difficulty" v="novice">
                        <line fix="true" outline="difficulty-novice" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="easy">
                        <line fix="true" outline="difficulty-easy" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="intermediate">
                        <line fix="true" outline="difficulty-interm" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="advanced">
                        <line fix="true" outline="difficulty-advanced" stroke="#00ffffff"
                            width="6" />
                    </m>
                    <m k="piste:difficulty" v="expert">
                        <line fix="true" outline="difficulty-expert" stroke="#00ffffff" width="6" />
                    </m>
                </m>
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m>
                        <line fix="true" stroke="#ffffff" width="4" />
                    </m>
                </m>
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#a1e620"
                            width="3" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#a1e620"
                            width="3" />
                    </m>
                    <m>
                        <line fix="true" stroke="#a1e620" width="3" />
                    </m>
                </m>
                <text fill="#639010" use="piste-name" /> <!-- Darken 20% -->
                <text use="piste-ref" />
                <m select="first">
                    <m k="piste:oneway" v="yes">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="-1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway_reverse.svg" />
                    </m>
                </m>
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <symbol merge-gap="120" merge-group="piste-symbols" merge-group-gap="50"
                    repeat-gap="120" src="assets:symbols/winter/sled.svg" symbol-percent="80"
                    text-overlap="false" />
            </m>
        </m>
        <m k="piste:type" v="nordic">
            <m zoom-max="14">
                <line fix="true" stroke="#ffffff" width="2.8" />
                <line fix="true" stroke="#44b2a3" width="2" />
            </m>
            <m zoom-min="15">
                <m select="first">
                    <m k="piste:difficulty" v="novice">
                        <line fix="true" outline="difficulty-novice" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="easy">
                        <line fix="true" outline="difficulty-easy" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="intermediate">
                        <line fix="true" outline="difficulty-interm" stroke="#00ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="advanced">
                        <line fix="true" outline="difficulty-advanced" stroke="#00ffffff"
                            width="6" />
                    </m>
                    <m k="piste:difficulty" v="expert">
                        <line fix="true" outline="difficulty-expert" stroke="#00ffffff" width="6" />
                    </m>
                </m>
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m>
                        <line fix="true" stroke="#ffffff" width="4" />
                    </m>
                </m>
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#44b2a3"
                            width="3" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#44b2a3"
                            width="3" />
                    </m>
                    <m>
                        <line fix="true" stroke="#44b2a3" width="3" />
                    </m>
                </m>
                <text fill="#28685f" use="piste-name" /> <!-- Darken 20% -->
                <text use="piste-ref" />
                <m select="first">
                    <m k="piste:oneway" v="yes">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="-1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway_reverse.svg" />
                    </m>
                </m>
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <symbol merge-gap="120" merge-group="piste-symbols" merge-group-gap="50"
                    repeat-gap="120" src="assets:symbols/winter/nordic.svg" symbol-percent="80"
                    text-overlap="false" />
                <m k="osmc:symbol">
                    <m zoom-max="15">
                        <symbol merge-gap="100" merge-group="osmc-symbols" repeat-gap="100"
                            src="gen:/osmc-symbol" text-overlap="false" />
                    </m>
                    <m zoom-max="16" zoom-min="16">
                        <symbol merge-gap="80" merge-group="osmc-symbols" repeat-gap="80"
                            src="gen:/osmc-symbol" symbol-percent="130" text-overlap="false" />
                    </m>
                </m>
            </m>
        </m>
        <m k="piste:type" v="hike">
            <!--
            A piste for nordic walking or hiking in winter (Winterwanderweg) that is usually
            announced by a tourism authority. A classic groomed piste (piste:grooming=classic)
            can be hiked with simple boots or can be used for running (default if grooming
            is absent). A piste:grooming=backcountry groomed piste requires snow shoes.
            -->
            <m zoom-max="14">
                <line fix="true" stroke="#ffffff" width="2.8" />
                <line fix="true" stroke="#ff9faf" width="2" />
            </m>
            <m zoom-min="15">
                <m select="first">
                    <m k="piste:difficulty" v="novice">
                        <line fix="true" outline="difficulty-novice" stroke="#ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="easy">
                        <line fix="true" outline="difficulty-easy" stroke="#ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="intermediate">
                        <line fix="true" outline="difficulty-interm" stroke="#ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="advanced">
                        <line fix="true" outline="difficulty-advanced" stroke="#ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="expert">
                        <line fix="true" outline="difficulty-expert" stroke="#ffffff" width="6" />
                    </m>
                    <m k="piste:difficulty" v="~">
                        <line fix="true" stroke="#ffffff" width="4" />
                    </m>
                </m>
                <line fix="true" stroke="#ff9faf" width="3" />
                <line fix="true" src="assets:symbols/dot.svg" stipple="30" stipple-stroke="#ff9faf"
                    width="15" />
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" src="assets:symbols/dot_small.svg" stipple="30"
                        stipple-stroke="#ffffff" width="15" />
                </m>
                <text fill="#ff395a" use="piste-name" /> <!-- Darken 20% -->
                <text use="piste-ref" />
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <symbol merge-gap="120" merge-group="piste-symbols" merge-group-gap="50"
                    repeat-gap="120" src="assets:symbols/winter/hike.svg" symbol-percent="80"
                    text-overlap="false" />
                <m k="osmc:symbol">
                    <m zoom-max="15">
                        <symbol merge-gap="100" merge-group="osmc-symbols" repeat-gap="100"
                            src="gen:/osmc-symbol" text-overlap="false" />
                    </m>
                    <m zoom-max="16" zoom-min="16">
                        <symbol merge-gap="80" merge-group="osmc-symbols" repeat-gap="80"
                            src="gen:/osmc-symbol" symbol-percent="130" text-overlap="false" />
                    </m>
                </m>
            </m>
        </m>
        <m k="piste:type" v="sleigh">
            <m zoom-max="14">
                <line fix="true" stroke="#ffffff" width="2.8" />
                <line fix="true" stroke="#8f54d8" width="2" />
            </m>
            <m zoom-min="15">
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#ffffff"
                            width="4" />
                    </m>
                    <m>
                        <line fix="true" stroke="#ffffff" width="4" />
                    </m>
                </m>
                <m select="first">
                    <m k="piste:grooming" v="backcountry">
                        <line fix="true" stipple="25" stipple-stroke="#00000000" stroke="#8f54d8"
                            width="3" />
                    </m>
                    <m k="piste:grooming" v="scooter">
                        <line fix="true" stipple="15" stipple-stroke="#00000000" stroke="#8f54d8"
                            width="3" />
                    </m>
                    <m>
                        <line fix="true" stroke="#8f54d8" width="3" />
                    </m>
                </m>
                <text fill="#5c25a1" use="piste-name" /> <!-- Darken 20% -->
                <text use="piste-ref" />
                <m select="first">
                    <m k="piste:oneway" v="yes">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway.svg" />
                    </m>
                    <m k="oneway" v="-1" zoom-min="16">
                        <lineSymbol src="assets:symbols/oneway_reverse.svg" />
                    </m>
                </m>
                <m k="piste:lit" v="yes">
                    <symbol merge-gap="50" merge-group="piste-symbols" repeat-gap="70"
                        src="assets:symbols/winter/lit.svg" symbol-percent="70"
                        text-overlap="false" />
                </m>
                <symbol merge-gap="120" merge-group="piste-symbols" merge-group-gap="50"
                    repeat-gap="120" src="assets:symbols/winter/sleigh.svg" text-overlap="false" />
            </m>
        </m>
        <m k="piste:type" v="skitour">
            <m zoom-max="14">
                <line fix="true" src="assets:symbols/winter/skitour_path.svg" stipple="30"
                    stipple-stroke="#ff703c" width="15" />
            </m>
            <m zoom-min="15">
                <line fix="true" src="assets:symbols/winter/skitour_path.svg" stipple="40"
                    stipple-stroke="#ff703c" width="20" />
                <text fill="#d53900" use="piste-name" /> <!-- Darken 20% -->
                <text use="piste-ref" />
                <symbol merge-gap="120" merge-group="piste-symbols" merge-group-gap="50"
                    repeat-gap="120" src="assets:symbols/winter/skitour.svg" symbol-percent="80"
                    text-overlap="false" />
            </m>
        </m>
        <m k="piste:type" v="ice_skate">
            <m closed="yes">
                <area fill="#aae2f3f6" />
                <m zoom-max="14">
                    <line fix="true" stroke="#aa6fc4d0" width="2" />
                </m>
                <m zoom-min="15">
                    <line fix="true" stroke="#aa6fc4d0" width="3" />
                </m>
            </m>
            <m closed="no">
                <m zoom-max="14">
                    <line fix="true" stroke="#ffffff" width="2.8" />
                    <line fix="true" stroke="#6fc4d0" width="2" />
                </m>
                <m zoom-min="15">
                    <line fix="true" stroke="#ffffff" width="4" />
                    <line fix="true" stroke="#6fc4d0" width="3" />
                </m>
            </m>
            <m zoom-min="15">
                <text dy="18" fill="#3596a4" use="piste-name" /> <!-- Darken 20% -->
                <symbol merge-group="piste-symbols" merge-group-gap="50"
                    src="assets:symbols/winter/ice_skate.svg" symbol-percent="80"
                    text-overlap="false" />
            </m>
        </m>
    </m>
    <m cat="skiing" k="piste:border">
        <m v="snow_park">
            <line fix="true" stroke="#2586f0" width="2.5" />
        </m>
        <m v="playground">
            <line fix="true" stroke="#a6e05b" width="2.5" />
        </m>
        <m v="downhill">
            <m k="piste:difficulty" select="first" v="novice">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#77e98d"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#77e98d" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="easy">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#999afb"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#999afb" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="intermediate">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#fb9a99"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#fb9a99" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="advanced">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#888888"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#888888" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="expert">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#fdbf6f"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#fdbf6f" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="freeride">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#fbe704"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#fbe704" width="2.5" />
                </m>
            </m>
            <m k="piste:difficulty" select="first" v="~|unknown">
                <m k="piste:grooming" v="backcountry">
                    <line fix="true" stipple="10" stipple-stroke="#00000000" stroke="#aaaaaa"
                        width="2.5" />
                </m>
                <m>
                    <line fix="true" stroke="#aaaaaa" width="2.5" />
                </m>
            </m>
        </m>
    </m>

    <xi:include href="inc_highway_bridges.xml" />

    <m cat="skiing" k="bridge">
        <!-- except bridge=no|false -->
        <m k="bridge" v="-|no">
            <m k="piste:type">
                <m v="sled">
                    <m zoom-max="14">
                        <line fix="true" stroke="#a1e620" width="2" />
                    </m>
                    <m zoom-min="15">
                        <line fix="true" stroke="#a1e620" width="3" />
                    </m>
                </m>
                <m v="nordic">
                    <m zoom-max="14">
                        <line fix="true" stroke="#44b2a3" width="2" />
                    </m>
                    <m zoom-min="15">
                        <line fix="true" stroke="#44b2a3" width="3" />
                    </m>
                </m>
                <m v="hike">
                    <m zoom-max="14">
                        <line fix="true" stroke="#ff9faf" width="2" />
                    </m>
                    <m zoom-min="15">
                        <line fix="true" stroke="#ff9faf" width="3" />
                    </m>
                </m>
                <m v="sleigh">
                    <m zoom-max="14">
                        <line fix="true" stroke="#8f54d8" width="2" />
                    </m>
                    <m zoom-min="15">
                        <line fix="true" stroke="#8f54d8" width="3" />
                    </m>
                </m>
            </m>
        </m>
    </m>

    <xi:include href="inc_railway_bridges.xml" />

    <xi:include href="inc_barier_lines.xml" />

    <m cat="forest" k="natural" v="tree" zoom-min="15">
        <area fade="15" fill="#c6d7d7" mesh="true" />
    </m>

    <xi:include href="inc_boundaries.xml" />

    <xi:include href="inc_contours.xml" />

    <xi:include href="inc_aerialways.xml" />

    <m cat="aerialways" e="way" k="aerialway">
        <m k="aerialway" v="cable_car">
            <m zoom-max="13">
                <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                    src="assets:symbols/transport/cable_car.svg" symbol-percent="70"
                    text-overlap="false" />
            </m>
            <m zoom-min="14">
                <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                    src="assets:symbols/transport/cable_car.svg" text-overlap="false" />
            </m>
        </m>
        <m k="aerialway" v="gondola">
            <m zoom-max="13">
                <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                    src="assets:symbols/transport/gondola.svg" symbol-percent="70"
                    text-overlap="false" />
            </m>
            <m zoom-min="14">
                <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                    src="assets:symbols/transport/gondola.svg" text-overlap="false" />
            </m>
        </m>
        <m k="aerialway" v="chair_lift" zoom-min="15">
            <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                src="assets:symbols/transport/chair_lift.svg" text-overlap="false" />
            <text style="bold" fill="#606060" k="name" size="14" stroke="#ffffff"
                stroke-width="2.0" />
        </m>
        <m k="aerialway" v="drag_lift" zoom-min="15">
            <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                src="assets:symbols/transport/drag_lift.svg" text-overlap="false" />
            <text style="bold" fill="#606060" k="name" size="14" stroke="#ffffff"
                stroke-width="2.0" />
        </m>
        <m k="aerialway" v="zip_line" zoom-min="15">
            <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                src="assets:symbols/transport/zipline.svg" text-overlap="false" />
            <text style="bold" fill="#606060" k="name" size="14" stroke="#ffffff"
                stroke-width="2.0" />
        </m>
        <m k="aerialway" v="magic_carpet" zoom-min="15">
            <symbol merge-gap="50" merge-group="aerialway-symbols" repeat-gap="50"
                src="assets:symbols/transport/magic_carpet.svg" text-overlap="false" />
        </m>
    </m>

    <m zoom-min="14">
        <xi:include href="inc_mountain_points.xml" />
    </m>

    <!-- POI symbols, names and house numbers -->

    <xi:include href="inc_places.xml" />

    <xi:include href="inc_symbols.xml" />

    <xi:include href="inc_poi.xml" />
</rendertheme>